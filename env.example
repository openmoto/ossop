# =================================================================
# OSSOP Security Stack Environment Configuration
# Copy this file to .env and update the values as needed
# =================================================================

# =================================================================
# GLOBAL CONFIGURATION
# =================================================================
# The timezone for all services to ensure consistent timestamps.
TZ=UTC

# System hostname used for external access and service URLs
HOSTNAME=localhost

# Docker Compose project settings
COMPOSE_PROJECT_NAME=ossop
NETWORK_NAME=security-stack-net

# =================================================================
# CORE COMPONENT VERSIONS
# =================================================================
OPENSEARCH_VERSION=2.11.1
WAZUH_MANAGER_VERSION=4.7.4
FILEBEAT_OSS_VERSION=8.10.2
SHUFFLE_VERSION=2.1.0
POSTGRES_VERSION=14
SHUFFLE_OPENSEARCH_VERSION=2.11.1
IRIS_VERSION=v2.4.23
ERAMBA_DB_VERSION=10.5
SURICATA_VERSION=7.0.5
# Note: MISP and SpiderFoot versions are managed by their respective images
# Note: DefectDojo version is managed by the defectdojo/defectdojo-django image

# =================================================================
# SERVICE HOSTNAMES & PORTS
# Used for internal container communication and external access.
# =================================================================

# --- SIEM & EDR (OpenSearch + Wazuh) ---
OPENSEARCH_HOSTNAME=opensearch
OPENSEARCH_PORT_API=9200
OPENSEARCH_PORT_PERF=9600
OPENSEARCH_DASHBOARDS_HOSTNAME=opensearch-dashboards
OPENSEARCH_DASHBOARDS_PORT=5601
WAZUH_MANAGER_HOSTNAME=wazuh-manager
WAZUH_API_PORT=55000
WAZUH_AGENT_REG_PORT=1515
WAZUH_AGENT_CONN_PORT=1514

# --- SOAR (Shuffle Automation Platform) ---
SHUFFLE_DB_HOSTNAME=shuffle-db
SHUFFLE_OPENSEARCH_HOSTNAME=shuffle-opensearch
SHUFFLE_BACKEND_HOSTNAME=shuffle-backend
SHUFFLE_BACKEND_PORT=5001
SHUFFLE_FRONTEND_HOSTNAME=shuffle-frontend
SHUFFLE_FRONTEND_PORT=80
SHUFFLE_ORBORUS_HOSTNAME=shuffle-orborus

# --- Case Management (DFIR-IRIS) ---
IRIS_DB_HOSTNAME=iris-db
IRIS_HOSTNAME=iris-web
IRIS_PORT=8080

# --- OSINT & EASM (SpiderFoot) ---
SPIDERFOOT_HOSTNAME=spiderfoot
SPIDERFOOT_PORT=5002

# --- GRC (Eramba Risk Management) ---
ERAMBA_DB_HOSTNAME=eramba-db
ERAMBA_HOSTNAME=eramba-web
ERAMBA_PORT=8081

# --- Network Security (Suricata IDS/IPS) ---
SURICATA_HOSTNAME=suricata

# --- Threat Intelligence (MISP) ---
MISP_DB_HOSTNAME=misp-db
MISP_REDIS_HOSTNAME=misp-redis
MISP_HOSTNAME=misp-web
MISP_PORT=8082

# --- Vulnerability Management (DefectDojo) ---
DEFECTDOJO_DB_HOSTNAME=defectdojo-db
DEFECTDOJO_HOSTNAME=defectdojo-app
DEFECTDOJO_PORT=8083

# --- Monitoring (Uptime Kuma) ---
UPTIME_KUMA_HOSTNAME=uptime-kuma
UPTIME_KUMA_PORT=3001

# =================================================================
# SIEM & EDR PASSWORDS & CONFIG
# =================================================================
# OpenSearch JVM heap size (adjust based on available RAM: 1g, 2g, 4g, 8g)
OPENSEARCH_JVM_HEAP=1g

# OpenSearch admin password (minimum 8 characters, mix of upper/lower/numbers/symbols)
OPENSEARCH_INITIAL_ADMIN_PASSWORD=StrongPassword123!

# =================================================================
# SOAR (Shuffle) PASSWORDS & CONFIG
# =================================================================
# Shuffle's dedicated OpenSearch instance password
SHUFFLE_OPENSEARCH_PASSWORD=ShuffleOSPassword123!

# =================================================================
# CASE MANAGEMENT (DFIR-IRIS) PASSWORDS & CONFIG
# =================================================================
# --- Database Credentials ---
IRIS_DB_USER=iris
IRIS_DB_PASSWORD=IrisStrongPassword123!
IRIS_DB_NAME=iris

# --- IRIS Core Settings ---
# Generate with: openssl rand -hex 32 or python -c "import secrets; print(secrets.token_hex(32))"
IRIS_SECRET_KEY=your-iris-secret-key-change-this-in-production-generate-32-char-hex

# =================================================================
# GRC (Eramba) PASSWORDS & CONFIG
# =================================================================
# --- Database Credentials ---
ERAMBA_DB_ROOT_PASSWORD=ErambaRootPassword123!
ERAMBA_DB_USER=eramba
ERAMBA_DB_PASSWORD=ErambaStrongPassword123!
ERAMBA_DB_NAME=eramba_community

# =================================================================
# THREAT INTELLIGENCE (MISP) PASSWORDS & CONFIG
# =================================================================
# --- Database Credentials ---
MISP_DB_ROOT_PASSWORD=MispDbRootPassword123!
MISP_DB_USER=misp
MISP_DB_PASSWORD=MispStrongPassword123!
MISP_DB_NAME=misp

# --- Redis Cache Credentials ---
MISP_REDIS_PASSWORD=MispRedisPassword123!

# =================================================================
# VULNERABILITY MANAGEMENT (DefectDojo) PASSWORDS & CONFIG
# =================================================================
# --- Database Credentials ---
DEFECTDOJO_DB_USER=defectdojo
DEFECTDOJO_DB_PASSWORD=DojoStrongPassword123!
DEFECTDOJO_DB_NAME=defectdojo

# --- DefectDojo Core Settings ---
# Generate with: openssl rand -hex 32 or python -c "import secrets; print(secrets.token_hex(32))"
DEFECTDOJO_SECRET_KEY=your-very-long-secret-key-change-this-in-production-generate-32-char-hex

# --- DefectDojo Admin User (automatically created on first startup) ---
DEFECTDOJO_ADMIN_USER=admin
DEFECTDOJO_ADMIN_EMAIL=admin@defectdojo.local
DEFECTDOJO_ADMIN_PASSWORD=admin

# --- DefectDojo Initialization Control ---
# Set to true for first startup, false for subsequent runs to prevent re-initialization
DD_INITIALIZE=true

# =================================================================
# SECURITY NOTES & PRODUCTION CHECKLIST
# =================================================================
# ðŸ”’ BEFORE PRODUCTION USE:
# 1. Change ALL default passwords to strong, unique passwords
# 2. Generate proper secret keys using: openssl rand -hex 32
# 3. Use passwords with 16+ characters, mix of upper/lower/numbers/symbols
# 4. Update TZ to your local timezone (e.g., America/New_York, Europe/London)
# 5. Change HOSTNAME to your actual domain name
# 6. Set DD_INITIALIZE=false after DefectDojo initial setup
# 7. Consider using Docker secrets for sensitive values in production
# 8. Adjust OPENSEARCH_JVM_HEAP based on available system RAM
# 9. Enable SSL/TLS certificates for external access
# 10. Configure firewall rules to restrict access to necessary ports only

# OpenSearch: http://localhost:9200
# Wazuh: http://localhost:55000
# Shuffle: http://localhost:80
# IRIS: http://localhost:8080
# SpiderFoot: http://localhost:5002
# Eramba: http://localhost:8081
# MISP: http://localhost:8082
# DefectDojo: http://localhost:8083
# Uptime Kuma: http://localhost:3001